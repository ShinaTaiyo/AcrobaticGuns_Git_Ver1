//====================================================
//
//１０月２８日：狙った方向に弾を発射したい[lockon.h]
//Author:ShinaTaiyo
//
//====================================================

#ifndef _LOCKON_H_  
#define _LOCKON_H_

//======================
//インクルード
//======================
#include "main.h"
#include "object2d.h"
#include "lockon.h"
//==========================================

//==========================================
//ロックオンクラス
//==========================================
class CLockon : public CObject2D
{
public:
	CLockon();     //描画順設定用コンストラクタ
	~CLockon() override;       //デストラクタ
	HRESULT Init() override;     //初期化処理
	void Uninit() override;      //終了処理
	void Update() override;      //更新処理
	void Draw() override;        //描画処理
	void SetDeath() override;    //死亡フラグ設定処理
	static CLockon* Create(D3DXVECTOR3 Pos,CObject2D::POLYGONTYPE PolygonType,float fWidth,float fHeight,D3DXCOLOR col);//生成処理

	const D3DXVECTOR3& GetLockOnPos() const { return m_LockOnPos; }//狙っている位置を取得する
	const D3DXVECTOR3& GetNowRay() const { return m_NowRay; }      //現在のレイを取得する
	const D3DXVECTOR3& GetFrontPos() const { return m_FrontPos; }  //手前の位置を取得する
private:
	//=======================================
	//静的メンバ
	//=======================================
	static constexpr float m_fNORMAL_LOCKONMOVE = 15.0f;
	//==========================================================================================================

	//=======================================
	//変数
	//=======================================
	D3DXVECTOR3 m_LockOnPos;//狙っている位置
	D3DXVECTOR3 m_NowRay;   //現在のレイ
	D3DXVECTOR3 m_FrontPos; //手前の位置
	//==========================================================================================================

	//=======================================
	//プロトタイプ宣言
	//=======================================
	void MoveProcess();//移動処理
	void SearchProcess();//カーソルの先にあるオブジェクトをサーチする
	void CalcRay();//レイを計算する
	//==========================================================================================================


};

#endif
